<%- include('../partials/header') %>

<section class="container my-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <a href="/restaurant" class="btn btn-secondary">← Back to Restaurants</a>
    <h2><%= restaurant.name %></h2>
  </div>

  <div class="row mb-4">
    <div class="col-md-4">
      <img src="<%= restaurant.image || '/uploads/restaurant-default.png' %>" 
           alt="<%= restaurant.name %>" 
           class="img-fluid rounded shadow-sm" 
           style="object-fit: cover; width:100%; height:250px;">
    </div>
    <div class="col-md-8">
      <p><strong>Cuisine:</strong> <%= restaurant.cuisine %></p>
      <p><strong>Rating:</strong> <%= restaurant.rating || '—' %></p>
      <p><strong>Address:</strong> <%= restaurant.address %></p>
      <p><strong>Description:</strong> <%= restaurant.description || 'No description available.' %></p>
    </div>
  </div>

  <h4 class="mb-3">Menu</h4>
  <div class="row">
    <% if(menus.length > 0) { %>
      <% menus.forEach(menu => { %>
        <div class="col-md-4 mb-4">
          <div class="card h-100 shadow-sm">
            <img src="<%= menu.image || '/uploads/menu-default.png' %>" 
                 class="card-img-top" 
                 alt="<%= menu.name %>" 
                 style="height:180px; object-fit:cover;">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title mb-2"><%= menu.name %></h5>
              <p class="card-text mb-1 text-muted">Category: <%= menu.category || 'N/A' %></p>
              <p class="card-text fw-bold mb-2">Rs. <%= menu.price || '0' %></p>
              <p class="card-text text-truncate"><%= menu.description || '' %></p>
              <div class="mt-auto">
                <small class="text-muted"><%= restaurant.name %></small>
              </div>
            </div>
          </div>
        </div>
      <% }) %>
    <% } else { %>
      <p class="text-center">No menu items found for this restaurant.</p>
    <% } %>
  </div>
</section>

<%- include('../partials/footer') %>
